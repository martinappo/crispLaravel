angular.module("singlePortfolioCtrl",[]).directive("onLastRepeat",function(){return function(t,e,o){t.$last&&setTimeout(function(){t.$emit("onRepeatLast",e,o)},1)}}).controller("singlePortfolioController",function(t,e,o){o.get().success(function(e){t.artworks=e,t.loading=!1}),t.$on("onRepeatLast",function(){$(function(){function t(){var t=n.tabs("option","active");return a>t+1?n.tabs("option","active",t+1):t+1==a&&n.tabs("option","active",0),!1}function e(){var t=n.tabs("option","active");return t>0?n.tabs("option","active",t-1):0==t&&n.tabs("option","active",a-1),!1}function o(){var t=n.tabs("option","active"),e=$("#artworks .portfolio-element:nth-of-type("+(t+1)+") .portfolio-image"),o=e.children("div").length,i=e.tabs("option","active");return o>i+1?e.tabs("option","active",i+1):i+1==o&&e.tabs("option","active",0),!1}function i(){var t=n.tabs("option","active"),e=$("#artworks .portfolio-element:nth-of-type("+(t+1)+") .portfolio-image"),o=e.children("div").length,i=e.tabs("option","active");return i>0?e.tabs("option","active",i-1):0==i&&e.tabs("option","active",o-1),!1}var n=$("#artworks").tabs({show:{effect:"fade",duration:100},hide:{effect:"fade",duration:100},select:function(){jQuery(this).css("height",jQuery(this).height()),jQuery(this).css("overflow","hidden")},show:function(){jQuery(this).css("height","auto"),jQuery(this).css("overflow","visible")}}),a=$(".portfolio-element").length;$(".portfolio-image").each(function(){$(this).tabs({show:{effect:"fade",duration:100},hide:{effect:"fade",duration:100},select:function(){jQuery(this).css("height",jQuery(this).height()),jQuery(this).css("overflow","hidden")},show:function(){jQuery(this).css("height","auto"),jQuery(this).css("overflow","visible")}})}),$("#next").click(function(e){e.preventDefault(),t()}),$("#prev").click(function(t){t.preventDefault(),e()}),$(document).keydown(function(n){switch(n.which){case 37:e();break;case 38:o();break;case 39:t();break;case 40:i();break;default:return}n.preventDefault()}),$("#artworks").on("swipeleft",e),$("#artworks").on("swiperight",t),$(".portfolio-image").on("swipeleft",i),$(".portfolio-image").on("swiperight",o)})})});